
screen1 = $4000

	org $0801
main:
	db 	$0d, $08, $e0, $07, $9e, $28, $34, $30, $39, $36, $29, $00 ;2016 SYS (4096)

	org $1000
	
init

	jsr initscreen

	sei
	lda #$7f
	sta	$dc0d
	lda #$35
	sta $01
	lda #<irq
	sta $fffe
	lda #>irq
	sta $ffff
	lda #$02
	sta $dd00
	lda #$1b
	sta $d011
	lda #$fb
	sta $d012
	lda #$c8
	sta $d016
	lda #$de
	sta $d018
	lda #$01
	sta $d01a
	lda #$0c
	sta $d020
	lda #$0b
	sta $d021
	cli
	lda #$00
	sta $ff
.loop
	jmp .loop
	

irq	pha
	txa
	pha
	tya
	pha

	lda $d019
	sta $d019
	
	dec $d020
	jsr trick
	inc $d020	
	
	pla
	tay
	pla
	tax
	pla
	rti


trick

	inc $fe
	lda $fe
	and #$01
	bne nope

	ldx #$00
copyloop
	lda $7808,x
	sta $7800,x
	lda $7809,x
	sta $7801,x
	lda $780a,x
	sta $7802,x
	lda $780b,x
	sta $7803,x
	lda $780c,x
	sta $7804,x
	lda $780d,x
	sta $7805,x
	lda $780e,x
	sta $7806,x
	lda $780f,x
	sta $7807,x
	txa
	clc
	adc #$08
	tax
	bne copyloop
	
	lda $ff
	clc
	adc #$08
	and #$3f
	sta $ff

	ldy #$00
	tax
aniloop
	lda anims,x
	sta $78f8,y
	inx
	iny
	cpy #$08
	bne aniloop
nope
	rts
	
initscreen

	lda #$00
	ldx #$00
fontloop
	sta $7800,x
	sta $7900,x
	sta $7a00,x
	sta $7b00,x
	sta $7c00,x
	sta $7d00,x
	sta $7e00,x
	sta $7f00,x
	inx
	bne	fontloop


	ldx #$00
	lda #$20
charloop
	lda logo+$0000,x
	sta $7400,x
	lda logo+$0100,x
	sta $7500,x
	lda logo+$0200,x
	sta $7600,x
	lda logo+$0300,x
	sta $7700,x
	inx
	bne	charloop
	
	ldx #$00
	lda #$01
colorloop
	sta $d800,x
	sta $d900,x
	sta $da00,x
	sta $db00,x
	inx
	bne	colorloop
	
	rts
	
anims
	db	14, 3, 1, 1, 0, 0, 0, 0
	db	1, 1, 1, 1, 1, 1, 1, 1
	db	0, 0, 0, 0, 1, 1, 3, 14
	db	0, 0, 0, 0, 0, 0, 0, 255
	db	0, 0, 0, 0, 128, 128, 192, 112
	db	128, 128, 128, 128, 128, 128, 128, 128
	db	112, 192, 128, 128, 0, 0, 0, 0
	db	255, 0, 0, 0, 0, 0, 0, 0
	
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$18,$18,$00,$00,$00
	db $00,$00,$3c,$3c,$3c,$3c,$00,$00
	db $00,$7e,$7e,$7e,$7e,$7e,$7e,$00
	db $ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff
	db $00,$7e,$7e,$7e,$7e,$7e,$7e,$00
	db $00,$00,$3c,$3c,$3c,$3c,$00,$00
	db $00,$00,$00,$18,$18,$00,$00,$00

	
logo
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
	db 00,01,02,03,04,05,06,07,06,05,04,03,02,01,00,00,01,02,03,04,05,06,07,06,05,04,03,02,01,00
